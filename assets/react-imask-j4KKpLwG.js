import{I as e}from"./imask-BS2bIgfR.js";import{R as t}from"./react-5K_EyRjd.js";import{P as s}from"./prop-types-eeGIXkY2.js";const a={mask:s.oneOfType([s.array,s.func,s.string,s.instanceOf(RegExp),s.oneOf([Date,Number,e.Masked]),s.instanceOf(e.Masked)]),value:s.any,unmask:s.oneOfType([s.bool,s.oneOf(["typed"])]),prepare:s.func,prepareChar:s.func,validate:s.func,commit:s.func,overwrite:s.oneOfType([s.bool,s.oneOf(["shift"])]),eager:s.oneOfType([s.bool,s.oneOf(["append","remove"])]),skipInvalid:s.bool,onAccept:s.func,onComplete:s.func,placeholderChar:s.string,displayChar:s.string,lazy:s.bool,definitions:s.object,blocks:s.object,enum:s.arrayOf(s.string),maxLength:s.number,from:s.number,to:s.number,pattern:s.string,format:s.func,parse:s.func,autofix:s.oneOfType([s.bool,s.oneOf(["pad"])]),radix:s.string,thousandsSeparator:s.string,mapToRadix:s.arrayOf(s.string),scale:s.number,normalizeZeros:s.bool,padFractionalZeros:s.bool,min:s.oneOfType([s.number,s.instanceOf(Date)]),max:s.oneOfType([s.number,s.instanceOf(Date)]),dispatch:s.func,inputRef:s.oneOfType([s.func,s.shape({current:s.object})])},n=Object.keys(a).filter(e=>"value"!==e),o=["value","unmask","onAccept","onComplete","inputRef"],i=n.filter(e=>o.indexOf(e)<0),r=function(s){var o;const r=((o=class extends t.Component{constructor(e){super(e),this._inputRef=this._inputRef.bind(this)}componentDidMount(){this.props.mask&&this.initMask()}componentDidUpdate(){const e=this.props,t=this._extractMaskOptionsFromProps(e);var s;t.mask?this.maskRef?(this.maskRef.updateOptions(t),"value"in e&&void 0!==e.value&&(this.maskValue=e.value)):this.initMask(t):(this.destroyMask(),"value"in e&&void 0!==e.value&&(null!=(s=this.element)&&s.isContentEditable&&"INPUT"!==this.element.tagName&&"TEXTAREA"!==this.element.tagName?this.element.textContent=e.value:this.element.value=e.value))}componentWillUnmount(){this.destroyMask()}_inputRef(e){this.element=e,this.props.inputRef&&(Object.prototype.hasOwnProperty.call(this.props.inputRef,"current")?this.props.inputRef.current=e:this.props.inputRef(e))}initMask(t){void 0===t&&(t=this._extractMaskOptionsFromProps(this.props)),this.maskRef=e(this.element,t).on("accept",this._onAccept.bind(this)).on("complete",this._onComplete.bind(this)),"value"in this.props&&void 0!==this.props.value&&(this.maskValue=this.props.value)}destroyMask(){this.maskRef&&(this.maskRef.destroy(),delete this.maskRef)}_extractMaskOptionsFromProps(e){const{...t}=e;return Object.keys(t).filter(e=>i.indexOf(e)<0).forEach(e=>{delete t[e]}),t}_extractNonMaskProps(e){const{...t}=e;return n.forEach(e=>{"maxLength"!==e&&delete t[e]}),"defaultValue"in t||(t.defaultValue=e.mask?"":t.value),delete t.value,t}get maskValue(){return this.maskRef?"typed"===this.props.unmask?this.maskRef.typedValue:this.props.unmask?this.maskRef.unmaskedValue:this.maskRef.value:""}set maskValue(e){this.maskRef&&(e=null==e&&"typed"!==this.props.unmask?"":e,"typed"===this.props.unmask?this.maskRef.typedValue=e:this.props.unmask?this.maskRef.unmaskedValue=e:this.maskRef.value=e)}_onAccept(e){this.props.onAccept&&this.maskRef&&this.props.onAccept(this.maskValue,this.maskRef,e)}_onComplete(e){this.props.onComplete&&this.maskRef&&this.props.onComplete(this.maskValue,this.maskRef,e)}render(){return t.createElement(s,{...this._extractNonMaskProps(this.props),inputRef:this._inputRef})}}).displayName=void 0,o.propTypes=void 0,o),p=s.displayName||s.name||"Component";return r.displayName="IMask("+p+")",r.propTypes=a,t.forwardRef((e,s)=>t.createElement(r,{...e,ref:s}))}(e=>{let{inputRef:s,...a}=e;return t.createElement("input",{...a,ref:s})}),p=t.forwardRef((e,s)=>t.createElement(r,{...e,ref:s}));export{p as I};
