import{r as e,j as t}from"./react-BHSQ6p-B.js";import{P as s}from"./prop-types-6BVzj02S.js";import{c as a,T as o,U as r,A as n,a as i,F as l}from"./index-BIZURpsP.js";import{h as c}from"./moment-Dp8S5siu.js";import{L as d}from"./react-router-BbxKZUUD.js";import{H as u,L as p,q as m,z as f,l as h,y as x,P as g,E as v}from"./@headlessui-DzdKdTjB.js";import"./imask-BS2bIgfR.js";import{I as b}from"./react-imask-DiLtHfVP.js";import{H as j}from"./@hcaptcha-CFb8xOpG.js";import{F as w}from"./@heroicons-D4agDyqz.js";import{a as y}from"./axios-BKnib4Vv.js";import"./cookie-DpVX6GIM.js";import"./react-dom-xaiVBzj6.js";import"./scheduler-6ULW7vKx.js";import"./framer-motion--mamCbNx.js";import"./motion-dom-DPVl3rd1.js";import"./motion-utils-CzqutjiG.js";import"./@babel-Df3wz5eM.js";import"./@react-aria-DmNucNO9.js";import"./@react-stately--ykh_BKD.js";import"./use-sync-external-store-DNeTRN57.js";import"./@floating-ui-Azb9iFum.js";const N=e.createContext(null);function C({children:s}){const[a,o]=e.useState(""),[r,n]=e.useState(""),[i,l]=e.useState(null),[c,d]=e.useState(!0),[u,p]=e.useState(null),m={vUpdateTime:a,setVUpdateTime:o,latestRegister:r,setLatestRegister:n,postsPending:i,setPostsPending:l,isLoading:c,setIsLoading:d,error:u,setError:p};return t.jsx(N.Provider,{value:{...m},children:s})}function k({time:s}){function a(e){const t=new Date(e),s=new Intl.DateTimeFormat("en-CA",{timeZone:"America/Sao_Paulo",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).formatToParts(t),a=e=>{var t;return null==(t=s.find(t=>t.type===e))?void 0:t.value};return`${a("year")}-${a("month")}-${a("day")}T${a("hour")}:${a("minute")}:${a("second")}`}const o=c(a(new Date(s))),[r,n]=e.useState("pouco"),i=e.useCallback(()=>{const e=c(a(new Date)),t=e.diff(o,"seconds");let s=e.diff(o,"minutes"),r=e.diff(o,"hours"),i=e.diff(o,"days");r="localhost"===window.location.hostname?r:r-3,s="localhost"!==window.location.hostname&&s>=180?s-180:s,r="localhost"!==window.location.hostname&&s>=60&&r<4?Math.floor(s/60):r,n(r>24?`${i} ${i>1?"dias":"dia"}`:r>0?`${r} ${r>1?"horas":"hora"}`:s>0?`${s} ${s>1?"minutos":"minuto"}`:t>0?`${t} ${t>1?"segundos":"segundo"}`:"pouco")},[o]);return e.useEffect(()=>{i();const e=setInterval(i,1e3);return()=>clearInterval(e)},[i]),t.jsx(t.Fragment,{children:r})}function S({children:e}){return t.jsx("div",{className:"group grid max-w-sm h-[100%] gap-6 md:mx-auto lg:mx-auto lg:max-w-none lg:grid-cols-4",children:e})}function P({children:s,className:a=""}){const o=e.useRef(null),r=function(){const[t,s]=e.useState({x:0,y:0});return e.useEffect(()=>{const e=e=>{s({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}},[]),t}(),n=e.useRef({x:0,y:0}),i=e.useRef({w:0,h:0}),[l,c]=e.useState([]);e.useEffect(()=>{o.current&&c(Array.from(o.current.children).map(e=>e))},[]),e.useEffect(()=>(d(),window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}),[l]),e.useEffect(()=>{u()},[r]);const d=()=>{o.current&&(i.current.w=o.current.offsetWidth,i.current.h=o.current.offsetHeight)},u=()=>{if(o.current){const e=o.current.getBoundingClientRect(),{w:t,h:s}=i.current,a=r.x-e.left,c=r.y-e.top;a<t&&a>0&&c<s&&c>0&&(n.current.x=a,n.current.y=c,l.forEach(t=>{const s=-(t.getBoundingClientRect().left-e.left)+n.current.x,a=-(t.getBoundingClientRect().top-e.top)+n.current.y;t.style.setProperty("--mouse-x",`${s}px`),t.style.setProperty("--mouse-y",`${a}px`)}))}};return t.jsx("div",{className:a,ref:o,children:s})}function T({title:e,img:s,subtitle:o,description:r,action:n,btnLabel:i="Abrir no Reddit",link:l=a.links.subreddit}){let c=t.jsx(P,{children:t.jsxs("div",{className:"relative overflow-hidden before:pointer-events-none before:absolute before:-left-40 before:-top-40 before:z-10 before:h-80 before:w-80 before:translate-x-[var(--mouse-x)] before:translate-y-[var(--mouse-y)] before:rounded-full before:border-slate-500 before:opacity-0 before:blur-3xl before:transition-opacity before:duration-500 after:pointer-events-none after:absolute after:-left-48 after:-top-48 after:z-30 after:h-64 after:w-64 after:translate-x-[var(--mouse-x)] after:translate-y-[var(--mouse-y)] after:rounded-full after:bg-slate-600 after:opacity-0 after:blur-3xl after:transition-opacity after:duration-500 after:hover:opacity-20 before:group-hover:opacity-100 bg-blackrounded-md text-white border border-white/10 bg-white/5 rounded-lg",children:[s?t.jsx("div",{className:"relative z-15",children:t.jsx("img",{src:s,className:"object-cover w-full h-[200px]",alt:e})}):"",t.jsxs("div",{className:"relative z-20 p-4 pt-5",children:[t.jsx("h2",{className:"block font-semibold text-xl line-clamp-2 text-ellipsis",children:e||"Título não retornado"}),t.jsx("p",{className:"text-gray-400 font-semibold mt-1 mb-0 line-clamp-2 text-ellipsis",children:o||"Usuário do post não retornado"}),t.jsx("p",{className:"mt-3 mb-4 pb-1",children:r}),t.jsxs(u,{className:"inline-flex items-center gap-1 rounded-[5px] bg-orange-600 border-orange-700 focus:bg-orange-700 hover:bg-orange-700 px-3 py-2 text-white/95  focus:not-data-focus:outline-none data-focus:outline data-focus:outline-white data-hover:bg-gray-600 data-open:bg-gray-700 focus-headless mb-1 transition-colors",onClick:e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),n?n():window.open(l,"_blank","noreferrer noopener")},children:[i,t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16px",viewBox:"0 -960 960 960",width:"16px",fill:"#FFF",children:t.jsx("path",{d:"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"})})]})]})]})});return l?t.jsx(d,{to:l,...a["default-props"].a,children:t.jsx(t.Fragment,{children:c})}):c}function I({children:e}){return t.jsx("div",{className:"bg-slate-800 border border-white/10 rounded-md p-3 mt-5 text-slate-400 items-center gap-2 inline-flex",children:e})}C.propTypes={children:s.node},k.propTypes={time:s.string.isRequired},S.propTypes={children:s.node},T.propTypes={title:s.string,subtitle:s.string,img:s.string,description:s.string,action:s.func,btnLabel:s.string},I.propTypes={children:s.node};const A=e.createContext(null);function L({children:s}){if(!o||!e.useContext)return alert('O contexto "ThemeProvider" não é válido. Não é possível renderizar as ações.'),null;if(!e.useContext(o))return alert('O contexto "ThemeProvider" não é válido. Não é possível renderizar as ações.'),null;let{setStopAppInterval:a}=e.useContext(o);const[r,n]=e.useState({}),[i,l]=e.useState(!1),[c,d]=e.useState(null),[u,p]=e.useState(Array(6).fill("")),[m,f]=e.useState(!1),[h,x]=e.useState(!1),g=e.useRef(null),v=e.useRef(null),[b,j]=e.useState(""),[w,y]=e.useState(""),[N,C]=e.useState(""),[k,S]=e.useState(),[P,T]=e.useState(!1),I=e.useCallback(e=>{x(e),a(!1)},[]),L=e.useCallback(()=>{p(Array(6).fill(""))},[]),O=e.useCallback((e,t,s)=>{const a=[{e:"code",func:0===t.filter(e=>0===e.trim().length).length,ok:"",incomplete:"Preencha todos os números do código"}].filter(t=>t.e===e).at(0);return a.func?s(a.ok):s(a.incomplete),a.func},[]),E={isLoading:i,setIsLoading:l,error:c,setError:d,values:u,setValues:p,codeSend:m,setCodeSend:f,isOpen:h,setIsOpen:I,captchaRef1:g,captchaRef2:v,message:b,setMessage:j,action:w,setAction:y,actionTxt:N,setActionTxt:C,allOk:P,setAllOk:T,setFeedbackMessage:O,clearValues:L,idVerificationRequest:k,setIdVerificationRequest:S,credentials:r,setCredentials:n};return t.jsx(A.Provider,{value:{...E},children:s})}function O({children:s}){if(!A||!e.useContext)return alert('O contexto "ThemeProvider" não é válido. Não é possível renderizar as ações.'),null;if(!e.useContext(A))return alert('O contexto "ThemeProvider" não é válido. Não é possível renderizar as ações.'),null;const{codeSend:a,setFeedbackMessage:o,values:r,setMessage:n}=e.useContext(A);return e.useEffect(()=>{a&&o("code",r,n)},[r]),t.jsx(t.Fragment,{children:s})}L.propTypes={children:s.node},O.propTypes={children:s.node};const E=({inputLength:s,values:a,setValues:o})=>{const r=e.useRef([]);return t.jsx("div",{className:"flex gap-1 justify-center mt-4 w-full",onPaste:e=>{e.preventDefault();const t=e.clipboardData.getData("text");if(!new RegExp(`^[0-9]{${s}}$`).test(t))return;const a=t.split("").slice(0,s);o(a),setTimeout(()=>{var e;null==(e=r.current[s-1])||e.focus()},0)},children:a.map((e,n)=>t.jsx(b,{mask:"0",value:e,onAccept:e=>((e,t)=>{if(!/^[0-9]?$/.test(e))return;const n=[...a];n[t]=e,o(n),e&&t<s-1&&setTimeout(()=>{var e;null==(e=r.current[t+1])||e.focus()},0)})(e,n),onKeyDown:e=>{return o=n,"Backspace"===(t=e).key&&!a[o]&&o>0&&(t.preventDefault(),null==(i=r.current[o-1])||i.focus()),"ArrowLeft"===t.key&&o>0&&(t.preventDefault(),null==(l=r.current[o-1])||l.focus()),void("ArrowRight"===t.key&&o<s-1&&(t.preventDefault(),null==(c=r.current[o+1])||c.focus()));var t,o,i,l,c},inputRef:e=>{r.current[n]=e},placeholder:"0",required:!0,className:"w-12 h-14 text-center focus-headless font-mono border rounded border-white/20 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-950/50 placeholder:text-white/25"},n))})};function D(){const[s,o]=e.useState(""),[i,l]=e.useState(""),{isLoading:d,setIsLoading:h,values:x,setValues:g,isOpen:v,setIsOpen:b,captchaRef2:w,action:y,actionTxt:N,setAllOk:C,setFeedbackMessage:k,setIdVerificationRequest:S,credentials:P}=e.useContext(A);return e.useEffect(()=>{var e;null==(e=null==w?void 0:w.current)||e.resetCaptcha()},[]),t.jsx(p,{open:v,as:"div",className:"relative z-30 focus:outline-none",onClose:()=>b(!1),children:t.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto bg-black/70 backdrop-blur-md",children:t.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:t.jsxs(m,{transition:!0,className:"w-full max-w-md rounded-xl bg-white/10 p-6 backdrop-blur-2xl duration-300 ease-out data-closed:transform-[scale(95%)] data-closed:opacity-0",children:[t.jsxs(f,{as:"h3",className:"font-semibold text-[1.55rem]",children:["Confirmar ",["aprovar","reprovar"].includes(N.toLowerCase())?"aprovar"===N.toLowerCase()?"aprovação dos posts":"reprovação dos posts":"ação"]}),t.jsxs("p",{className:"mt-2 text-white/70",children:["Enviamos um código para o canal de logs do servidor no Discord. Informe abaixo e confirme. Se o código expirar, reinicie a solicitação. Ele é válido até ",P.datetimeCreate?r.renderText(c(P.datetimeCreate).utc(!0).add(-3,"hours").format("DD/MM/YYYY [às] HH:mm:ss [UTC-03:00]")):"(validade do código não obtida)","."]}),t.jsxs("form",{action:"#",method:"POST",onSubmit:async e=>{if(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),s){if(k("code",x,l))try{h(!0);const e=await fetch(`${a.modQueueServer}/api/verify-code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s,id:P.id,action:y,code:x.join(""),datetimeCreate:P.datetimeCreate})}),t=await e.json();t.success?(l(""),C(!0),S(t.id),w.current.resetCaptcha()):(l(t.message||JSON.stringify(t)),w.current.resetCaptcha())}catch(t){l("Erro ao validar captcha.")}finally{h(!1)}}else l("Por favor, complete o captcha antes de enviar.")},children:[t.jsx(E,{inputLength:6,values:x,setValues:g}),t.jsx("div",{className:"mt-5 flex items-center justify-center",children:t.jsx(j,{sitekey:"e730ec6c-0428-47b4-8964-7d56667e76dc",onVerify:e=>o(e),ref:w})}),i&&t.jsx(n,{children:t.jsx("div",{className:"flex flex-wrap gap-2 items-center text-center p-3 bg-orange-500/5 border border-orange-300/25 text-orange-300 mt-4 rounded",children:t.jsx("p",{className:"text-balance",children:i})})}),t.jsxs("div",{className:"mt-4 flex flex-wrap gap-2 items-center justify-center "+(d?"pointer-events-none opacity-55 cursor-not-allowed":""),children:[t.jsx(u,{className:"inline-flex items-center gap-2 rounded-md bg-gray-700 px-3 py-1.5 text-white focus:not-data-focus:outline-none data-focus:outline data-focus:outline-white data-hover:bg-gray-600 data-open:bg-gray-700 focus-headless",onClick:e=>{e.stopPropagation(),b(!1)},children:"Cancelar"}),t.jsx(u,{type:"submit",className:"inline-flex items-center gap-2 rounded-md bg-orange-600 px-3 py-1.5 text-white focus:not-data-focus:outline-none data-focus:outline data-focus:outline-white data-hover:bg-gray-600 data-open:bg-gray-700 focus-headless",children:"Confirmar"})]})]})]})})})})}function R(){const[s,o]=e.useState(""),[r,i]=e.useState(""),{setCodeSend:l,isOpen:c,setIsOpen:d,captchaRef1:h,action:x,setCredentials:g,isLoading:v,setIsLoading:b}=e.useContext(A);return e.useEffect(()=>{var e;null==(e=null==h?void 0:h.current)||e.resetCaptcha()},[]),t.jsx(p,{open:c,as:"div",className:"relative z-30 focus:outline-none",onClose:()=>d(!1),children:t.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto bg-black/70 backdrop-blur-md",children:t.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:t.jsxs(m,{transition:!0,className:"w-full max-w-md rounded-xl bg-white/10 p-6 backdrop-blur-2xl duration-300 ease-out data-closed:transform-[scale(95%)] data-closed:opacity-0",children:[t.jsx(f,{as:"h3",className:"font-semibold text-[1.55rem]",children:"Preencha o Captcha"}),t.jsx("p",{className:"mt-2 text-white/70",children:"Após preencher o Captcha e confirmarmos que está tudo certo, enviaremos o código de verificação para o canal de logs Discord."}),t.jsxs("form",{action:"#",method:"POST",onSubmit:async e=>{if(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),s)try{b(!0);const e=await fetch(`${a.modQueueServer}/api/new-action`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s,id:(new Date).getTime(),action:x})}),t=await e.json();t.success?(g(t.credentials),i(""),l(!0),h.current.resetCaptcha()):(i(t.message||JSON.stringify(t)),h.current.resetCaptcha(),o(""))}catch(t){i("Erro ao validar captcha.")}finally{b(!1)}else i("Por favor, complete o captcha antes de enviar.")},children:[t.jsx("div",{className:"mt-5 flex items-center justify-center",children:t.jsx(j,{sitekey:"e730ec6c-0428-47b4-8964-7d56667e76dc",onVerify:e=>{o(e)},ref:h})}),r&&t.jsx(n,{children:t.jsx("div",{className:"flex flex-wrap gap-2 items-center text-center p-3 bg-orange-500/5 border border-orange-300/25 text-orange-300 mt-4 rounded",children:t.jsx("p",{className:"text-balance",children:r})})}),t.jsxs("div",{className:"mt-4 flex flex-wrap gap-2 items-center justify-center "+(v?"pointer-events-none opacity-55 cursor-not-allowed":""),children:[t.jsx(u,{className:"inline-flex items-center gap-2 rounded-md bg-gray-700 px-3 py-1.5 text-white focus:not-data-focus:outline-none data-focus:outline data-focus:outline-white data-hover:bg-gray-600 data-open:bg-gray-700 focus-headless",onClick:e=>{e.stopPropagation(),d(!1)},children:"Cancelar"}),t.jsx(u,{type:"submit",className:"inline-flex items-center gap-2 rounded-md bg-orange-600 px-3 py-1.5 text-white focus:not-data-focus:outline-none data-focus:outline data-focus:outline-white data-hover:bg-gray-600 data-open:bg-gray-700 focus-headless",children:"Confirmar"})]})]})]})})})})}function $(){const[s,r]=e.useState("Confirmando a sua solicitação. Por favor aguarde alguns intantes."),[i,l]=e.useState(!1),{isOpen:c,setIsOpen:d,message:h,idVerificationRequest:x}=e.useContext(A);let{setStopAppInterval:g}=e.useContext(o);return e.useEffect(()=>{let e;return i?(g(!1),()=>{}):(e=setInterval(async()=>{if(!x)return;const e=await(async e=>{const t=await fetch(`${a.modQueueServer}/api/verify-request`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})});return await t.json()})(x);if(e.success)switch(parseInt(e.status)){case 2:r("Em instantes a solicitação será concluída. É só aguardar. Você pode fechar a página. Quando a solicitação tiver sido concluída, uma mensagem será enviada no canal de logs do Discord.");break;case 3:r("A sua solicitação foi executada com sucesso."),l(!0);break;default:r("Status da execução não mapeado.")}},1e3),()=>{g(!1),clearInterval(e)})},[i]),e.useEffect(()=>{!1===c&&l(!0)},[c]),t.jsx(p,{open:c,as:"div",className:"relative z-30 focus:outline-none",onClose:()=>d(!1),children:t.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto bg-black/70 backdrop-blur-md",children:t.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:t.jsxs(m,{transition:!0,className:"w-full max-w-md rounded-xl bg-white/10 p-6 backdrop-blur-2xl duration-300 ease-out data-closed:transform-[scale(95%)] data-closed:opacity-0",children:[t.jsx(f,{as:"h3",className:"font-semibold text-[1.55rem]",children:"Solicitação enviada"}),t.jsx("p",{className:"mt-4 my-6 text-white/70",children:s}),h&&t.jsx(n,{children:t.jsx("div",{className:"flex flex-wrap gap-2 items-center text-center p-3 bg-orange-500/5 border border-orange-300/25 text-orange-300 mt-4 rounded",children:t.jsx("p",{className:"text-balance",children:h})})}),t.jsx("div",{className:"mt-4 flex flex-wrap gap-2 items-center justify-center",children:t.jsx(u,{className:"inline-flex items-center gap-2 rounded-md bg-gray-700 px-3 py-1.5 text-white focus:not-data-focus:outline-none data-focus:outline data-focus:outline-white data-hover:bg-gray-600 data-open:bg-gray-700 focus-headless",onClick:e=>{e.stopPropagation(),d(!1)},children:"Fechar"})})]})})})})}function z(){let{codeSend:s,setIsOpen:a,setAction:r,setActionTxt:n,allOk:i,setCodeSend:l,setAllOk:c,clearValues:d,setMessage:u}=e.useContext(A),{setStopAppInterval:p}=e.useContext(o);return t.jsxs("div",{children:[!s&&!i&&t.jsx(R,{}),s&&!i&&t.jsx(D,{}),s&&i&&t.jsx($,{}),t.jsxs(h,{children:[t.jsxs(x,{className:"mt-8 inline-flex items-center focus-headless gap-2 rounded bg-gray-800 px-3 py-2  text-white  focus:not-data-focus:outline-none data-focus:outline data-focus:outline-white data-hover:bg-gray-700 data-open:bg-gray-700",children:["Moderar todos de uma vez",t.jsx(w,{className:"size-4 fill-white/60"})]}),t.jsx(g,{transition:!0,anchor:"bottom end",className:"w-52 mt-1 origin-top-right rounded border border-white/20 bg-slate-900 p-1 text-white transition duration-100 ease-out [--anchor-gap:--spacing(1)] focus:outline-none data-closed:scale-95 data-closed:opacity-0",children:[[1,"Aprovar",()=>{}],[2,"Reprovar",()=>{}]].map((e,s)=>t.jsx(v,{onClick:t=>{t.preventDefault(),c(!1),l(!1),a(!0),r(e[0]),n(e[1]),d(),u(""),p(!0)},children:t.jsx("button",{className:"focus-headless group flex w-full items-center gap-2 rounded px-3 py-1.5 hover:bg-white/10 data-focus:bg-white/10 focus:bg-white/10",children:e[1]})},s))})]})]})}function F(){return t.jsxs(L,{children:[t.jsx(O,{}),t.jsx(z,{})]})}const M=()=>{const{vUpdateTime:s,latestRegister:o}=e.useContext(N);return t.jsxs("hgroup",{className:"flex items-center gap-4 mb-8 flex-wrap",children:[t.jsx("img",{src:a["ui-infos"]["header-img"].url,alt:a["ui-infos"]["header-img"].alt,className:"rounded-full w-[50px] h-[50px] object-cover"}),t.jsxs("div",{className:"block",children:[t.jsxs("h1",{className:"text-balance font-bold text-3xl",children:["Fila de moderação do ",t.jsxs("span",{className:"text-orange-600",children:["r",t.jsx(i,{children:"/"}),a["ui-infos"]["subreddit-name"]]})]}),t.jsxs("p",{className:"mb-0 mt-1 text-gray-400 text-balance max-w-[600px]",children:["Atualizado há ",s?t.jsx(k,{time:s}):"pouco",". O último post entrou na fila de moderação há ",o?t.jsx(k,{time:o}):"pouco",". A verificação da fila é feita a cada 5 minutos."]})]})]})},q=()=>{const{isLoading:s,postsPending:o,error:r}=e.useContext(N);return t.jsx(S,{children:t.jsx(n,{children:s&&!o?t.jsx(T,{title:"Carregando...",subtitle:"Conectando à API, aguarde",description:"Geralmente isso é rápido mas pode ser que demore um pouco.",link:a.links.subreddit,btnLabel:"Ir pro subreddit",actions:e=>{e.preventDefault(),e.stopPropagation(),window.open(a.links.subreddit,"_blank","noreferrer noopener")}}):o?o.map((t,s)=>{const a={title:t.post_title,subtitle:t.post_author_name,description:"",img:t.post_img_url,link:t.reddit_link,action:()=>{window.open(t.reddit_link,"_blank","noreferrer noopener")}};return e.createElement(T,{...a,key:s})}):r?t.jsx(T,{title:"Ocorreu um erro: "+r,subtitle:"Algo não saiu como deveria...",description:"",link:a.links.report,actions:e=>{e.preventDefault(),e.stopPropagation(),window.open(a.links.report,"_blank","noreferrer noopener")},btnLabel:"Reportar"}):t.jsx(T,{title:"Não há nada por aqui...",subtitle:"Tudo certo!",description:"Sem posts para a moderação avaliar. Pegue uma bebida e aguarde.",btnLabel:"Ir pro subreddit",actions:e=>{e.preventDefault(),e.stopPropagation(),window.open(a.links.subreddit,"_blank","noreferrer noopener")}})})})},H=()=>{const{postsPending:s}=e.useContext(N);return t.jsx(t.Fragment,{children:s&&s.length>1&&t.jsx(F,{})})},V=()=>{const{postsPending:s}=e.useContext(N);return t.jsxs(t.Fragment,{children:[s&&s.length>=10&&t.jsx(n,{children:t.jsxs(I,{children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#94A3B8",className:"bi bi-exclamation-circle",viewBox:"0 0 16 16",children:[t.jsx("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),t.jsx("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"})]}),t.jsx("span",{children:"Listamos apenas os 10 últimos posts pendentes de moderação."})]})}),t.jsx(I,{children:t.jsxs("div",{className:"flex gap-1 items-center",children:[t.jsx("p",{children:"Encontrou um erro?"})," ",t.jsx("a",{href:a.links.report,...a["default-props"].a,children:t.jsxs("div",{className:"flex gap-1 items-center",children:[t.jsx("span",{className:"text-white",children:"Avisa pra gente!"}),t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16px",viewBox:"0 -960 960 960",width:"16px",fill:"#FFF",children:t.jsx("path",{d:"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"})})]})})]})})]})};function _(){const{setVUpdateTime:t,setLatestRegister:s,setPostsPending:o,setIsLoading:r,setError:n}=e.useContext(N);return e.useEffect(()=>{try{y.post(`${a.host}/api/get-latest-register/`).then(e=>{const{data:a}=e;if(a&&a.rows[0][0].datetime_register){const e=a.rows[0][0].datetime_register;s(e)}t(c().format("YYYY-MM-DDTHH:mm:ssZ"))})}catch(e){alert("Um erro ocorreu! "+e.message)}},[s,t]),e.useEffect(()=>{try{y.post(`${a.host}/api/get-unmoderates-posts/`).then(e=>{const{data:s}=e;s&&s.rows[0].length>0&&o(s.rows[0]),t(c().format("YYYY-MM-DDTHH:mm:ssZ"))}).catch(e=>{n(e.message)}).finally(()=>{r(!1)})}catch(e){}},[n,r,o,t]),null}function Y(){return t.jsxs(C,{children:[t.jsx(_,{}),t.jsx("div",{className:"flex align-center justify-center",children:t.jsxs("div",{className:"container mx-3 my-8 lg:my-10 min-h-[90vh] flex justify-between flex-col",children:[t.jsxs("main",{children:[t.jsxs(n,{children:[t.jsx(M,{}),t.jsx(q,{})]}),t.jsx(H,{}),t.jsx(V,{})]}),t.jsx(l,{})]})})]})}export{Y as default};
