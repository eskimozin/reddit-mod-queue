import{r as e,j as t}from"./react-BHSQ6p-B.js";import{P as s}from"./prop-types-6BVzj02S.js";import{h as a}from"./moment-Dp8S5siu.js";import{T as o,A as r}from"./index-Dll_nfvy.js";import{L as n}from"./react-router-Dbda4_y8.js";import{H as i,L as c,q as l,z as d,l as u,y as p,P as m,E as f}from"./@headlessui-DzdKdTjB.js";import"./imask-BS2bIgfR.js";import{I as h}from"./react-imask-DiLtHfVP.js";import{H as x}from"./@hcaptcha-CFb8xOpG.js";import{F as g}from"./@heroicons-D4agDyqz.js";import{a as b}from"./axios-BKnib4Vv.js";import"./cookie-DpVX6GIM.js";import"./react-dom-xaiVBzj6.js";import"./scheduler-6ULW7vKx.js";import"./framer-motion--mamCbNx.js";import"./motion-dom-DPVl3rd1.js";import"./motion-utils-CzqutjiG.js";import"./@react-aria-DmNucNO9.js";import"./@react-stately--ykh_BKD.js";import"./use-sync-external-store-DNeTRN57.js";import"./@floating-ui-Azb9iFum.js";import"./@babel-Df3wz5eM.js";const j=e.createContext(null);function v({children:s}){const[a,o]=e.useState(""),[r,n]=e.useState(""),[i,c]=e.useState(null),[l,d]=e.useState(!0),[u,p]=e.useState(null),m={vUpdateTime:a,setVUpdateTime:o,latestRegister:r,setLatestRegister:n,postsPending:i,setPostsPending:c,isLoading:l,setIsLoading:d,error:u,setError:p};return t.jsx(j.Provider,{value:{...m},children:s})}function w({children:e}){return t.jsx("span",{className:"arial",children:e})}function y({time:s}){function o(e){const t=new Date(e),s=new Intl.DateTimeFormat("en-CA",{timeZone:"America/Sao_Paulo",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).formatToParts(t),a=e=>{var t;return null==(t=s.find(t=>t.type===e))?void 0:t.value};return`${a("year")}-${a("month")}-${a("day")}T${a("hour")}:${a("minute")}:${a("second")}`}const r=a(o(new Date(s))),[n,i]=e.useState("pouco"),c=e.useCallback(()=>{const e=a(o(new Date)),t=e.diff(r,"seconds");let s=e.diff(r,"minutes"),n=e.diff(r,"hours");n="localhost"===window.location.hostname?n:n-3,s="localhost"!==window.location.hostname&&s>=180?s-180:s,n="localhost"!==window.location.hostname&&s>=60&&n<4?Math.floor(s/60):n,i(n>0?`${n} ${n>1?"horas":"hora"}`:s>0?`${s} ${s>1?"minutos":"minuto"}`:t>0?`${t} ${t>1?"segundos":"segundo"}`:"pouco")},[r]);return e.useEffect(()=>{c();const e=setInterval(c,1e3);return()=>clearInterval(e)},[c]),t.jsx(t.Fragment,{children:n})}function N({children:e}){return t.jsx("div",{className:"group grid max-w-sm h-[100%] gap-6 md:mx-auto lg:mx-auto lg:max-w-none lg:grid-cols-4",children:e})}function k({children:s,className:a=""}){const o=e.useRef(null),r=function(){const[t,s]=e.useState({x:0,y:0});return e.useEffect(()=>{const e=e=>{s({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}},[]),t}(),n=e.useRef({x:0,y:0}),i=e.useRef({w:0,h:0}),[c,l]=e.useState([]);e.useEffect(()=>{o.current&&l(Array.from(o.current.children).map(e=>e))},[]),e.useEffect(()=>(d(),window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}),[c]),e.useEffect(()=>{u()},[r]);const d=()=>{o.current&&(i.current.w=o.current.offsetWidth,i.current.h=o.current.offsetHeight)},u=()=>{if(o.current){const e=o.current.getBoundingClientRect(),{w:t,h:s}=i.current,a=r.x-e.left,l=r.y-e.top;a<t&&a>0&&l<s&&l>0&&(n.current.x=a,n.current.y=l,c.forEach(t=>{const s=-(t.getBoundingClientRect().left-e.left)+n.current.x,a=-(t.getBoundingClientRect().top-e.top)+n.current.y;t.style.setProperty("--mouse-x",`${s}px`),t.style.setProperty("--mouse-y",`${a}px`)}))}};return t.jsx("div",{className:a,ref:o,children:s})}v.propTypes={children:s.node},w.propTypes={children:s.node},y.propTypes={time:s.string.isRequired},N.propTypes={children:s.node};const C="eskimozin",S="localhost"===window.location.hostname?"http://localhost:8001":localStorage.getItem("prod-test")?"https://resplendent-enjoyment-test.up.railway.app":"https://gabriers.up.railway.app",P="localhost"===window.location.hostname?"http://localhost:8010":"https://server-reddit-mod-queue-production.up.railway.app",T="https://github.com/eskimozin/reddit-mod-queue/issues/new",I="https://reddit.com/r/eskimozin",A={rel:"noopener noreferrer",target:"_blank",className:"focus-headless focus:text-white hover:text-white transition-colors"};function L({title:e,img:s,subtitle:a,description:o,action:r,btnLabel:c="Abrir no Reddit",link:l=I}){let d=t.jsx(k,{children:t.jsxs("div",{className:"relative overflow-hidden before:pointer-events-none before:absolute before:-left-40 before:-top-40 before:z-10 before:h-80 before:w-80 before:translate-x-[var(--mouse-x)] before:translate-y-[var(--mouse-y)] before:rounded-full before:border-slate-500 before:opacity-0 before:blur-3xl before:transition-opacity before:duration-500 after:pointer-events-none after:absolute after:-left-48 after:-top-48 after:z-30 after:h-64 after:w-64 after:translate-x-[var(--mouse-x)] after:translate-y-[var(--mouse-y)] after:rounded-full after:bg-slate-600 after:opacity-0 after:blur-3xl after:transition-opacity after:duration-500 after:hover:opacity-20 before:group-hover:opacity-100 bg-blackrounded-md text-white border border-white/10 bg-white/5 rounded-lg",children:[s?t.jsx("div",{className:"relative z-15",children:t.jsx("img",{src:s,className:"object-cover w-full h-[200px]",alt:e})}):"",t.jsxs("div",{className:"relative z-20 p-4 pt-5",children:[t.jsx("h2",{className:"block font-semibold text-xl line-clamp-2 text-ellipsis",children:e||"Título não retornado"}),t.jsx("p",{className:"text-gray-400 font-semibold mt-1 mb-0 line-clamp-2 text-ellipsis",children:a||"Usuário do post não retornado"}),t.jsx("p",{className:"mt-3 mb-4 pb-1",children:o}),t.jsxs(i,{className:"inline-flex items-center gap-1 rounded-[5px] bg-orange-600 border-orange-700 focus:bg-orange-700 hover:bg-orange-700 px-3 py-2 text-white/95  focus:not-data-focus:outline-none data-focus:outline data-focus:outline-white data-hover:bg-gray-600 data-open:bg-gray-700 focus-headless mb-1 transition-colors",onClick:e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),r?r():window.open(l,"_blank","noreferrer noopener")},children:[c,t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16px",viewBox:"0 -960 960 960",width:"16px",fill:"#FFF",children:t.jsx("path",{d:"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"})})]})]})]})});return l?t.jsx(n,{to:l,...A,children:t.jsx(t.Fragment,{children:d})}):d}function E({children:e}){return t.jsx("div",{className:"bg-slate-800 border border-white/10 rounded-md p-3 mt-5 text-slate-400 items-center gap-2 inline-flex",children:e})}L.propTypes={title:s.string,subtitle:s.string,img:s.string,description:s.string,action:s.func,btnLabel:s.string},E.propTypes={children:s.node};const R=e.createContext(null);function O({children:s}){let{setStopAppInterval:a}=e.useContext(o);const[r,n]=e.useState(!1),[i,c]=e.useState(null),[l,d]=e.useState(Array(6).fill("")),[u,p]=e.useState(!1),[m,f]=e.useState(!1),h=e.useRef(null),x=e.useRef(null),[g,b]=e.useState(""),[j,v]=e.useState(""),[w,y]=e.useState(""),[N,k]=e.useState({}),[C,S]=e.useState(),[P,T]=e.useState(!1),I=e.useCallback(e=>{f(e),a(!1)},[]),A=e.useCallback(()=>{d(Array(6).fill(""))},[]),L=e.useCallback((e,t,s)=>{const a=[{e:"code",func:0===t.filter(e=>0===e.trim().length).length,ok:"",incomplete:"Preencha todos os números do código"}].filter(t=>t.e===e).at(0);return a.func?s(a.ok):s(a.incomplete),a.func},[]),E={isLoading:r,setIsLoading:n,error:i,setError:c,values:l,setValues:d,codeSend:u,setCodeSend:p,isOpen:m,setIsOpen:I,captchaRef1:h,captchaRef2:x,message:g,setMessage:b,action:j,setAction:v,actionTxt:w,setActionTxt:y,credentials:N,setCredentials:k,allOk:P,setAllOk:T,setFeedbackMessage:L,clearValues:A,idVerificationRequest:C,setIdVerificationRequest:S};return t.jsx(R.Provider,{value:{...E},children:s})}function D({children:s}){const{codeSend:a,setFeedbackMessage:o,values:r,setMessage:n}=e.useContext(R);return e.useEffect(()=>{a&&o("code",r,n)},[r]),t.jsx(t.Fragment,{children:s})}O.propTypes={children:s.node},D.propTypes={children:s.node};const F=({inputLength:s,values:a,setValues:o})=>{const r=e.useRef([]);return t.jsx("div",{className:"flex gap-1 justify-center mt-4 w-full",onPaste:e=>{e.preventDefault();const t=e.clipboardData.getData("text");if(!new RegExp(`^[0-9]{${s}}$`).test(t))return;const a=t.split("").slice(0,s);o(a),setTimeout(()=>{var e;null==(e=r.current[s-1])||e.focus()},0)},children:a.map((e,n)=>t.jsx(h,{mask:"0",value:e,onAccept:e=>((e,t)=>{if(!/^[0-9]?$/.test(e))return;const n=[...a];n[t]=e,o(n),e&&t<s-1&&setTimeout(()=>{var e;null==(e=r.current[t+1])||e.focus()},0)})(e,n),onKeyDown:e=>{return o=n,"Backspace"===(t=e).key&&!a[o]&&o>0&&(t.preventDefault(),null==(i=r.current[o-1])||i.focus()),"ArrowLeft"===t.key&&o>0&&(t.preventDefault(),null==(c=r.current[o-1])||c.focus()),void("ArrowRight"===t.key&&o<s-1&&(t.preventDefault(),null==(l=r.current[o+1])||l.focus()));var t,o,i,c,l},inputRef:e=>{r.current[n]=e},placeholder:"0",required:!0,className:"w-12 h-14 text-center focus-headless font-mono border rounded border-white/20 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-950/50 placeholder:text-white/25"},n))})};function $(){const[s,a]=e.useState(""),[o,n]=e.useState(""),{isLoading:u,setIsLoading:p,values:m,setValues:f,isOpen:h,setIsOpen:g,captchaRef2:b,action:j,actionTxt:v,credentials:w,setAllOk:y,setFeedbackMessage:N,setIdVerificationRequest:k}=e.useContext(R);return e.useEffect(()=>{var e;null==(e=null==b?void 0:b.current)||e.resetCaptcha()},[]),t.jsx(c,{open:h,as:"div",className:"relative z-30 focus:outline-none",onClose:()=>g(!1),children:t.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto bg-black/70 backdrop-blur-md",children:t.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:t.jsxs(l,{transition:!0,className:"w-full max-w-md rounded-xl bg-white/10 p-6 backdrop-blur-2xl duration-300 ease-out data-closed:transform-[scale(95%)] data-closed:opacity-0",children:[t.jsxs(d,{as:"h3",className:"font-semibold text-[1.55rem]",children:["Confirmar ",["aprovar","reprovar"].includes(v.toLowerCase())?"aprovar"===v.toLowerCase()?"aprovação dos posts":"reprovação dos posts":"ação"]}),t.jsx("p",{className:"mt-2 text-white/70",children:"Enviamos um código para o canal de logs do servidor no Discord. Informe abaixo e confirme. Se o código expirar, reinicie a solicitação. Ele é válido até "}),t.jsxs("form",{action:"#",method:"POST",onSubmit:async e=>{if(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),s){if(N("code",m,n))try{p(!0);const e=await fetch(`${P}/api/verify-code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s,id:w.id,action:j,code:m.join(""),datetimeCreate:w.datetimeCreate})}),t=await e.json();t.success?(n(""),y(!0),k(t.id),b.current.resetCaptcha()):(n(t.message||JSON.stringify(t)),b.current.resetCaptcha())}catch(t){n("Erro ao validar captcha.")}finally{p(!1)}}else n("Por favor, complete o captcha antes de enviar.")},children:[t.jsx(F,{inputLength:6,values:m,setValues:f}),t.jsx("div",{className:"mt-5 flex items-center justify-center",children:t.jsx(x,{sitekey:"e730ec6c-0428-47b4-8964-7d56667e76dc",onVerify:e=>a(e),ref:b})}),o&&t.jsx(r,{children:t.jsx("div",{className:"flex flex-wrap gap-2 items-center text-center p-3 bg-orange-500/5 border border-orange-300/25 text-orange-300 mt-4 rounded",children:t.jsx("p",{className:"text-balance",children:o})})}),t.jsxs("div",{className:"mt-4 flex flex-wrap gap-2 items-center justify-center "+(u?"pointer-events-none opacity-55 cursor-not-allowed":""),children:[t.jsx(i,{className:"inline-flex items-center gap-2 rounded-md bg-gray-700 px-3 py-1.5 text-white focus:not-data-focus:outline-none data-focus:outline data-focus:outline-white data-hover:bg-gray-600 data-open:bg-gray-700 focus-headless",onClick:e=>{e.stopPropagation(),g(!1)},children:"Cancelar"}),t.jsx(i,{type:"submit",className:"inline-flex items-center gap-2 rounded-md bg-orange-600 px-3 py-1.5 text-white focus:not-data-focus:outline-none data-focus:outline data-focus:outline-white data-hover:bg-gray-600 data-open:bg-gray-700 focus-headless",children:"Confirmar"})]})]})]})})})})}function z(){const[s,a]=e.useState(""),[o,n]=e.useState(""),{setCodeSend:u,isOpen:p,setIsOpen:m,captchaRef1:f,action:h,setCredentials:g,isLoading:b,setIsLoading:j}=e.useContext(R);return e.useEffect(()=>{var e;null==(e=null==f?void 0:f.current)||e.resetCaptcha()},[]),t.jsx(c,{open:p,as:"div",className:"relative z-30 focus:outline-none",onClose:()=>m(!1),children:t.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto bg-black/70 backdrop-blur-md",children:t.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:t.jsxs(l,{transition:!0,className:"w-full max-w-md rounded-xl bg-white/10 p-6 backdrop-blur-2xl duration-300 ease-out data-closed:transform-[scale(95%)] data-closed:opacity-0",children:[t.jsx(d,{as:"h3",className:"font-semibold text-[1.55rem]",children:"Preencha o Captcha"}),t.jsx("p",{className:"mt-2 text-white/70",children:"Após preencher o Captcha e confirmarmos que está tudo certo, enviaremos o código de verificação para o canal de logs Discord."}),t.jsxs("form",{action:"#",method:"POST",onSubmit:async e=>{if(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),s)try{j(!0);const e=await fetch(`${P}/api/new-action`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s,id:(new Date).getTime(),action:h})}),t=await e.json();t.success?(g(t.credentials),n(""),u(!0),f.current.resetCaptcha()):(n(t.message||JSON.stringify(t)),f.current.resetCaptcha(),a(""))}catch(t){n("Erro ao validar captcha.")}finally{j(!1)}else n("Por favor, complete o captcha antes de enviar.")},children:[t.jsx("div",{className:"mt-5 flex items-center justify-center",children:t.jsx(x,{sitekey:"e730ec6c-0428-47b4-8964-7d56667e76dc",onVerify:e=>{a(e)},ref:f})}),o&&t.jsx(r,{children:t.jsx("div",{className:"flex flex-wrap gap-2 items-center text-center p-3 bg-orange-500/5 border border-orange-300/25 text-orange-300 mt-4 rounded",children:t.jsx("p",{className:"text-balance",children:o})})}),t.jsxs("div",{className:"mt-4 flex flex-wrap gap-2 items-center justify-center "+(b?"pointer-events-none opacity-55 cursor-not-allowed":""),children:[t.jsx(i,{className:"inline-flex items-center gap-2 rounded-md bg-gray-700 px-3 py-1.5 text-white focus:not-data-focus:outline-none data-focus:outline data-focus:outline-white data-hover:bg-gray-600 data-open:bg-gray-700 focus-headless",onClick:e=>{e.stopPropagation(),m(!1)},children:"Cancelar"}),t.jsx(i,{type:"submit",className:"inline-flex items-center gap-2 rounded-md bg-orange-600 px-3 py-1.5 text-white focus:not-data-focus:outline-none data-focus:outline data-focus:outline-white data-hover:bg-gray-600 data-open:bg-gray-700 focus-headless",children:"Confirmar"})]})]})]})})})})}function q(){const[s,a]=e.useState("Em instantes a solicitação será concluída. Aguarde..."),[n,u]=e.useState(!1),{isOpen:p,setIsOpen:m,message:f,idVerificationRequest:h}=e.useContext(R);let{setStopAppInterval:x}=e.useContext(o);return e.useEffect(()=>{let e;return n?(x(!1),()=>{}):(e=setInterval(async()=>{if(!h)return;const e=await(async e=>{const t=await fetch(`${P}/api/verify-request`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})});return await t.json()})(h);if(e.success)switch(parseInt(e.status)){case 2:a("Em instantes a solicitação será concluída. Aguarde...");break;case 3:a("Solicitação executada com sucesso"),u(!0);break;default:a("Status da execução não mapeado")}},1e3),()=>{x(!1),clearInterval(e)})},[n]),t.jsx(c,{open:p,as:"div",className:"relative z-30 focus:outline-none",onClose:()=>m(!1),children:t.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto bg-black/70 backdrop-blur-md",children:t.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:t.jsxs(l,{transition:!0,className:"w-full max-w-md rounded-xl bg-white/10 p-6 backdrop-blur-2xl duration-300 ease-out data-closed:transform-[scale(95%)] data-closed:opacity-0",children:[t.jsx(d,{as:"h3",className:"font-semibold text-[1.55rem]",children:"Solicitação enviada"}),t.jsx("p",{className:"mt-4 my-6 text-white/70",children:s}),f&&t.jsx(r,{children:t.jsx("div",{className:"flex flex-wrap gap-2 items-center text-center p-3 bg-orange-500/5 border border-orange-300/25 text-orange-300 mt-4 rounded",children:t.jsx("p",{className:"text-balance",children:f})})}),t.jsx("div",{className:"mt-4 flex flex-wrap gap-2 items-center justify-center",children:t.jsx(i,{className:"inline-flex items-center gap-2 rounded-md bg-gray-700 px-3 py-1.5 text-white focus:not-data-focus:outline-none data-focus:outline data-focus:outline-white data-hover:bg-gray-600 data-open:bg-gray-700 focus-headless",onClick:e=>{e.stopPropagation(),m(!1)},children:"Fechar"})})]})})})})}function M(){let{codeSend:s,setIsOpen:a,setAction:r,setActionTxt:n,allOk:i,setCodeSend:c,setAllOk:l,clearValues:d,setMessage:h}=e.useContext(R),{setStopAppInterval:x}=e.useContext(o);return t.jsxs("div",{children:[!s&&!i&&t.jsx(z,{}),s&&!i&&t.jsx($,{}),s&&i&&t.jsx(q,{}),t.jsxs(u,{children:[t.jsxs(p,{className:"mt-8 inline-flex items-center focus-headless gap-2 rounded bg-gray-800 px-3 py-2  text-white  focus:not-data-focus:outline-none data-focus:outline data-focus:outline-white data-hover:bg-gray-700 data-open:bg-gray-700",children:["Moderar todos de uma vez",t.jsx(g,{className:"size-4 fill-white/60"})]}),t.jsx(m,{transition:!0,anchor:"bottom end",className:"w-52 mt-1 origin-top-right rounded border border-white/20 bg-slate-900 p-1 text-white transition duration-100 ease-out [--anchor-gap:--spacing(1)] focus:outline-none data-closed:scale-95 data-closed:opacity-0",children:[[1,"Aprovar",()=>{}],[2,"Reprovar",()=>{}]].map((e,s)=>t.jsx(f,{onClick:t=>{t.preventDefault(),l(!1),c(!1),a(!0),r(e[0]),n(e[1]),d(),h(""),x(!0)},children:t.jsx("button",{className:"focus-headless group flex w-full items-center gap-2 rounded px-3 py-1.5 hover:bg-white/10 data-focus:bg-white/10 focus:bg-white/10",children:e[1]})},s))})]})]})}function _(){return t.jsxs(O,{children:[t.jsx(D,{}),t.jsx(M,{})]})}const V=()=>{const{vUpdateTime:s,latestRegister:a}=e.useContext(j);return t.jsxs("hgroup",{className:"flex items-center gap-4 mb-8 flex-wrap",children:[t.jsx("img",{src:"https://styles.redditmedia.com/t5_djonfq/styles/communityIcon_so6opouwbkwe1.jpeg?format=pjpg&s=87d36ec6c490962999a51fdc8b64bf180892131a",alt:"Foto de perfil do r/eskimozin",className:"rounded-full w-[50px] h-[50px] object-cover"}),t.jsxs("div",{className:"block",children:[t.jsxs("h1",{className:"text-balance font-bold text-3xl",children:["Fila de moderação do ",t.jsxs("span",{className:"text-orange-600",children:["r",t.jsx(w,{children:"/"}),C]})]}),t.jsxs("p",{className:"mb-0 mt-1 text-gray-400 text-balance max-w-[600px]",children:["Atualizado há ",s?t.jsx(y,{time:s}):"pouco",". O último post entrou na fila de moderação há ",a?t.jsx(y,{time:a}):"pouco",". A verificação da fila é feita a cada 5 minutos."]})]})]})},H=()=>{const{isLoading:s,postsPending:a,error:o}=e.useContext(j);return t.jsx(N,{children:t.jsx(r,{children:s&&!a?t.jsx(L,{title:"Carregando...",subtitle:"Conectando à API, aguarde",description:"Geralmente isso é rápido mas pode ser que demore um pouco.",link:I,btnLabel:"Ir pro subreddit",actions:e=>{e.preventDefault(),e.stopPropagation(),window.open(I,"_blank","noreferrer noopener")}}):a?a.map((t,s)=>{const a={title:t.post_title,subtitle:t.post_author_name,description:"",img:t.post_img_url,link:t.reddit_link,action:()=>{window.open(t.reddit_link,"_blank","noreferrer noopener")}};return e.createElement(L,{...a,key:s})}):o?t.jsx(L,{title:"Ocorreu um erro: "+o,subtitle:"Algo não saiu como deveria...",description:"",link:T,actions:e=>{e.preventDefault(),e.stopPropagation(),window.open(T,"_blank","noreferrer noopener")},btnLabel:"Reportar"}):t.jsx(L,{title:"Não há nada por aqui...",subtitle:"Tudo certo!",description:"Sem posts para a moderação avaliar. Pegue uma bebida e aguarde.",btnLabel:"Ir pro subreddit",actions:e=>{e.preventDefault(),e.stopPropagation(),window.open(I,"_blank","noreferrer noopener")}})})})},Y=()=>{const{postsPending:s}=e.useContext(j);return t.jsx(t.Fragment,{children:s&&s.length>1&&t.jsx(_,{})})},B=()=>{const{postsPending:s}=e.useContext(j);return t.jsxs(t.Fragment,{children:[s&&s.length>=10&&t.jsx(r,{children:t.jsxs(E,{children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#94A3B8",className:"bi bi-exclamation-circle",viewBox:"0 0 16 16",children:[t.jsx("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),t.jsx("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"})]}),t.jsx("span",{children:"Listamos apenas os 10 últimos posts pendentes de moderação."})]})}),t.jsx(E,{children:t.jsxs("div",{className:"flex gap-1 items-center",children:[t.jsx("p",{children:"Encontrou um erro?"})," ",t.jsx("a",{href:T,...A,children:t.jsxs("div",{className:"flex gap-1 items-center",children:[t.jsx("span",{className:"text-white",children:"Avisa pra gente!"}),t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16px",viewBox:"0 -960 960 960",width:"16px",fill:"#FFF",children:t.jsx("path",{d:"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"})})]})})]})})]})};function Z(){const{setVUpdateTime:t,setLatestRegister:s,setPostsPending:o,setIsLoading:r,setError:n}=e.useContext(j);return e.useEffect(()=>{try{b.post(`${S}/api/get-latest-register/`).then(e=>{const{data:o}=e;if(o&&o.rows[0][0].datetime_register){const e=o.rows[0][0].datetime_register;s(e)}t(a().format("YYYY-MM-DDTHH:mm:ssZ"))})}catch(e){alert("Um erro ocorreu! "+e.message)}},[s,t]),e.useEffect(()=>{try{b.post(`${S}/api/get-unmoderates-posts/`).then(e=>{const{data:s}=e;s&&s.rows[0].length>0&&o(s.rows[0]),t(a().format("YYYY-MM-DDTHH:mm:ssZ"))}).catch(e=>{n(e.message)}).finally(()=>{r(!1)})}catch(e){}},[n,r,o,t]),null}function U(){const e={fontWeight:300,fontFamily:'"Inter Tight", "Inter", sans-serif',letterSpacing:.2};return t.jsx("div",{className:"container text-center pt-8 lg:pt-10 mt-8 lg:mt-10 border-t border-slate-800",children:t.jsxs("div",{className:"text-gray-400",children:[t.jsxs("div",{className:"flex items-center justify-center gap-1 text-decoration-none fw-light",style:{...e,color:"inherit"},children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-c-circle",viewBox:"0 0 16 16",children:t.jsx("path",{d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.146 4.992c-1.212 0-1.927.92-1.927 2.502v1.06c0 1.571.703 2.462 1.927 2.462.979 0 1.641-.586 1.729-1.418h1.295v.093c-.1 1.448-1.354 2.467-3.03 2.467-2.091 0-3.269-1.336-3.269-3.603V7.482c0-2.261 1.201-3.638 3.27-3.638 1.681 0 2.935 1.054 3.029 2.572v.088H9.875c-.088-.879-.768-1.512-1.729-1.512"})}),t.jsxs("span",{children:[a().utc().format("YYYY")," - "]}),t.jsxs("span",{children:["Fila de moderação do r",t.jsx(w,{children:"/"}),C]})]}),t.jsxs("a",{href:"https://github.com/gabriersdev",className:"text-decoration-none fw-light focus-headless",style:{...e,color:"inherit"},children:["Feito com 💖 pelo ","Gabriel","."]})]})})}function J(){return t.jsxs(v,{children:[t.jsx(Z,{}),t.jsx("div",{className:"flex align-center justify-center",children:t.jsxs("div",{className:"container mx-3 my-8 lg:my-10 min-h-[90vh] flex justify-between flex-col",children:[t.jsxs("main",{children:[t.jsxs(r,{children:[t.jsx(V,{}),t.jsx(H,{})]}),t.jsx(Y,{}),t.jsx(B,{})]}),t.jsx(U,{})]})})]})}export{J as default};
